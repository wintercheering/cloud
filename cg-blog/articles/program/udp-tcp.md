# 详述 TCP 和 UDP 的定义、区别及模拟演示

1 定义
----
　　**TCP**（Transmission Control Protocol，传输控制协议）是基于连接的协议，也就是说：在正式收发数据前，必须和对方建立可靠的连接。一个 TCP 连接必须经过三次“对话”，也就是传说中的“三次握手”，才能够建立起来，其中的过程比较复杂，在这里，咱们只做简单、形象的介绍。咱们来看看三次对话的“简单”过程：主机 A 向主机 B 发出连接请求数据包，比如说“我想给你发送数据，可以吗？”，这是第一次对话；主机 B 向主机 A 发送同意连接的要求同步（同步就是指两台机器，一个在发送，一个在接受，协调工作）的数据包，比如说“可以，你什么时候发？”，这是第二次对话；主机 A 再发送一个数据包确认主机 B 的同步要求，比如说“我现在就发，你接着吧！”，这是第三次对话。三次“对话”的目的就是使数据包的发送和接受同步，经过三次“对话”之后，主机 A 才向主机 B 正式发送数据。

　　**UDP**（User Data Protocol，用户数据报协议）是与 TCP 相对应的协议。它是面向非连接的协议，它不与对方建立连接，而是直接就把数据包发送过去，其使用于一次只传送少量数据、对可靠性要求不高的应用环境。比如，咱们经常使用“ Ping ”命令来测试两台主机之间 TCP/IP 通信是否正常，其实“ Ping ”命令的原理就是向对方主机发送 UDP 数据包，然后对方主机确认收到数据包，如果数据包是否到达的消息及时反馈回来，那么网络就是通的。例如，在默认状态下，一次`Ping`操作发送 4 个数据包，收到的也是 4 个数据包，因为对方主机每收到一个数据包都会发回一个确认收到的数据包。这充分说明 UDP 协议是面向非连接的协议，没有建立连接的过程。正因为 UDP 协议没有建立连接的过程，所以它的通信效率高；但也正因为如此，它的可靠性不如 TCP 协议高。例如，咱们常用的 QQ 就是使用 UDP 发送消息，因此有时会出现收不到消息的情况。


2 区别
----

|属性     | TCP  | UDP|
|-------- | ---|---|
|是否面向连接 | 面向连接 |   面向非连接|
|是否传输可靠    | 可靠|   不可靠|
|应用场合     | 传输大量数据|   传输少量数据|
|速度     | 慢|   快|


3 模拟演示
----

在本部分，分别用 Java 语言模拟 TCP 和 UDP　传输情况：

 - **第 1 篇**：[模拟 TCP 传输的客户端和服务端](https://github.com/guobinhit/cg-blog/blob/master/articles-of-blog/java-something/java-to-tcp.md)
 - **第 2 篇**：[模拟 UDP 传输的发送端和接收端](https://github.com/guobinhit/cg-blog/blob/master/articles-of-blog/java-something/java-to-udp.md)

